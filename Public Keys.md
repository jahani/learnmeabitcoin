<div dir="rtl">
    <h1>کلید عمومی</h1>
    <p><span style="color: #999999;">یه عددِ یکتا که از کلید خصوصیت ساخته شده.</span></p>
    <h2>فهرست</h2>
    <hr>
    <ul>
        <li>
            <p><a href="#1">کلید عمومی چیه؟</a></p>
        </li>
        <li>
            <p><a href="#2">کلید عمومی چطوری از روی کلید خصوصی به‌دست میاد؟</a></p>
        </li>
        <li>
            <p><a href="#7">چرا از ضربِ روی خم بیضوی برای به‌دست‌آوردن کلید عمومی استفاده می‌کنیم؟</a></p>
        </li>
    </ul>
    <hr>
    <hr>
    <h2 id="1">کلید عمومی چیه؟</h2>
    <p>یه کلید عمومی شکل اولیه‌ای از یه آدرسه،
    </p>
    <p>و درست مثل کلید خصوصی به صورت شانزده‌شانزدهی ذخیره می‌شه. </p>
    <p>مثال:</p>
    <code>
    <p >public_key = 02b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a8737</p>
    </code>
    <p>جالبه که بدونی کلید عمومی‌ت از روی <strong>کلید خصوصی‌ت</strong> ایجاد شده.</p>
    <p>اگه این کلید عمومی رو به شکل کوتاه‌تری فشرده‌سازی نمی‌کردیم (که بهش می‌گیم «آدرس»)، این «شماره حساب»ی می‌بود که
        به منظور دریافت بیت‌کوین ازش استفاده می‌کردیم.</p>
    <br>
    <h2 id="2">کلید عمومی چطوری از روی کلید خصوصی به‌دست میاد؟</h2>
    <p> با قرار دادن کلید خصوصی در یه تابع ریاضی خاص می‌تونی کلید عمومی مرتبط با کلید خصوصیت رو دریافت کنی.</p><br>
    <h3 id="3">این تابع چیه؟</h3>
    <p>به این تابع خاص <strong>ضرب خم بیضوی</strong> گفته می‌شه، که درگیر «اینور و اونور پریدن روی نمودار یه خم
        بیضوی»ه تا زمانی که به یه مختصات نهایی روی نمودار برسی. اعداد این مختصات نهایی، کلید عمومی‌ت رو بهت می‌دن.
    </p>
    <p>
        نشون دادنش راحت‌تره.</p>
    <br>
    <h3 id="4">خم بیضوی چه شکلیه؟</h3>
    <p>شبیه شکل زیر:</p>
    <br>
    <br>
    <img style="display: block; margin-left: auto; margin-right: auto;"
        src="./beginners/guide/public-keys/01-elliptic-curve.png">
    <p style="color: #999999; text-align: center; ">خوشگله.</p>
    <br>
    <br>
    <p>علاوه بر این، خم بیضوی استفاده شده در بیت‌کوین نقطه‌ی شروع مشخصی داره.</p>
    <br>
    <br>
    <img style="display: block; margin-left: auto; margin-right: auto;"
        src="./beginners/guide/public-keys/01-elliptic-curve-g.png">
    <br>
    <br>
    <p>اگه ما روی این خم عملیات «ضرب» انجام بدیم (به عنوان مثال، نقطه رو در عدد دو «ضرب» کنیم)، می‌تونیم مثل تصویر زیر در
        اطراف خم حرکت کنیم.</p>
    <br>
    <br>
    <img style="display: block; margin-left: auto; margin-right: auto;"
        src="./beginners/guide/public-keys/01-elliptic-curve-g-multiplication.png">
    <p style="color: #999999; text-align: center; ">یه ویژگی خاص خم بیضوی اینه که از هر جا روی خم خط مماس رسم کنیم حتما یه نقطه‌ی دیگه رو هم قطع می‌کنه.</p>
    <br>
    <br>
    <p>و تمام. ما الآن مختصات نقطه‌ی (G) رو در عدد 2 «ضرب» کردیم و مختصات نهایی (2G) رو یافتیم.</p>
    <p>این یه دور ضرب خم بیضویه.</p>
    <blockquote>
    <p> کلمه‌ی «ضرب» رو تو گیومه گذاشتم چون در اینجا این ضرب اون ضربی که باهاش آشنایی نیست و حالت ویژه‌ایه که به عنوان
        ضرب درنظر گرفتیم.</p>
    <p>اگه عدد 2 رو در مختصات G ضرب کنی، حاصل مختصات 2G نمی‌شه (همون‌طور که روی نمودار نشون داده شده).</p>
    <p>در واقع، اون نخبه‌هایی که فهمیدن به روش بالا میشه رو نمودار جابجا شد که برای نامگذاری این عملیات از کلمه‌ی «ضرب» استفاده کردن.</p>
    <p>چون، همون‌طور که می‌دونید، ریاضی هرگز نمی‌تونه به اندازه‌ی کافی گیج‌کننده باشه.</p>
    <p>پس از این به بعد، هرجا می‌گم ضرب، منظور ضرب خم بیضوی است.</p>
    </blockquote>
    <br>
    <h3 id="5">کلید عمومی رو چطوری به‌دست میاری؟</h3>
    <p>در مثالی که در بالا دیدیم، با ضرب 2 در G به 2G رسیدیم.</p>
    <p>برای به‌دست‌آوردن کلید عمومی ما G رو در کلید خصوصی خودمون ضرب می‌کنیم.</p>
    <h6>مثال</h6>
    <code>
    <p >private_key = ef235aacf90d9f4aadd8c92e4b2562e1d9eb97f0df9ba3b508258739cb013db2</p>
    <p >private_key = 108165236279178312660610114131826512483935470542850824183737259708197206310322</p>
    <br>
    <p >public_key = 108165236279178312660610114131826512483935470542850824183737259708197206310322 * G</p>
    </code>
    <p>یا به عبارت دیگه، «کلید خصوصی بار روی خم بیضوی اینور و اونور بپر». اگه یادتون باشه، در مبحث مربوط به کلید خصوصی
        یاد گرفتیم که کلید خصوصی یه عدده که به‌صورت تصادفی تولید شده.</p>
    <br><br><img style="display: block; margin-left: auto; margin-right: auto;"
        src="./beginners/guide/public-keys/02-public-key-multiplication.png">
    <p style="color: #999999; text-align: center; ">گرفتی دیگه.</p>
    <br><br>
    <p>نقطه‌ی پایانی که روی خم بیضوی به‌دست میاد مختصاتی به شما می‌ده و این مختصات همون کلید عمومی شما رو
        تشکیل می‌ده.</p>
    <p>بنابراین، اگه این مختصاتی باشه که از ضرب G در کلید خصوصی بدست اومده:</p>
    <code>
    <p >x = 81591541406288143274758265124625798440200740391102527151086648448953253267255</p>
    <p >y = 64573953342291915951744135406509773051817879333910826118626860448948679381492</p>
    </code>
    <p>تنها کاری که باید بکنیم اینه که هر دوی این‌ها رو به شانزده‌شانزدهی تبدیل و اون‌ها رو به هم بچسبونیم:</p>
    <code>
    <p >public_key (x) = b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a8737</p>
    <p >public_key (y) = 8ec38ff91d43e8c2092ebda601780485263da089465619e0358a5c1be7ac91f4</p><br>
    <p >public_key (x,y) =
        b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a87378ec38ff91d43e8c2092ebda601780485263da089465619e0358a5c1be7ac91f4
    </p>
    </code>
    <p>این شکل اصلی کلید عمومیه؛ یعنی باید 04 رو در ابتداش قرار بدم، اینطوری:</p>
    <code>
    <p>public_key =
        04b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a87378ec38ff91d43e8c2092ebda601780485263da089465619e0358a5c1be7ac91f4
    </p>
    </code>
    <p>برای اینکه بفهمی چرا، متاسفانه باید بخش چگونگی کلید عمومی فشرده‌شده رو بخونی.</p>
    <br>
    <h3 id="6">کلید عمومی فشرده‌شده</h3>
    <p>برای صرفه‌جویی فضا، کلید عمومی رو (این روزها) تنها از مختصات کامل x در میارن.</p>
    <p>این به‌این‌خاطره که خم بیضوی یه معادله‌ست (y^2 = x^3 + 7)، به این معنی که اگه مختصات x رو داری،
        می‌تونی y متناظر رو براساس معادله به‌دست بیاری.</p>
    <p>با این حال، چون y^2 در این معادله داریم، y ما می‌تونه عدد مثبت یا منفی باشه:</p>
    <br><br><img style="display: block; margin-left: auto; margin-right: auto;"
        src="./beginners/guide/public-keys/03-y-polarity.png"><br><br>
    <p>بنابراین، تنها اطلاعات اضافی‌ای که برای به‌دست‌آوردن مختصات دقیق y نیاز داری اینه که ببینی مختصات y در بالا
        یا پایین محور xه، و به لطف ویژگی خم بیضوی:</p>
    <ul>
        <li>اگه y زوج باشه، در بالای محور xه.</li><br>
        <li>اگه y فرد باشه، در زیر محور xه.</li>
    </ul>
    <p>پس به‌جای ذخیره‌ی هر دوی این‌ها (x و y) به‌عنوان کلید عمومی، می‌تونی فقط x رو همراه با اینکه y فرده یا زوج ذخیره کنی.</p>
    <p>در بیت‌کوین، قسمت زوج یا فرد بودن؛ رو با پیشوند شماره‌ای به مختصات x نشون میدن.</p>
    <ul>
        <li>زوج = 02</li><br>
        <li>فرد = 03</li>
    </ul>
    <br><br><img style="display: block; margin-left: auto; margin-right: auto;"
        src="./beginners/guide/public-keys/03-y-polarity-prefix.png"><br><br>
    <p>پس، در حالی‌ که کلید عمومی اصلی با 04 شروع می‌شه، یه کلید عمومی فشرده با 02 یا 03 شروع می‌شه:</p>
    <code>
    <p >public_key =
        04b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a87378ec38ff91d43e8c2092ebda601780485263da089465619e0358a5c1be7ac91f4
    </p>
    <p >public_key_compressed = 02b4632d08485ff1df2db55b9dafd23347d1c47a457072a1e87be26896549a8737</p>
    </code>
    <p> به‌نظر می‌رسه برای یکم کوتاه‌تر شدن متن خیلی تلاش زیادیه، اما چون از کلید عمومی در
        داده‌ی تراکنش استفاده می‌شه، در طول زمان منجر به صرفه‌جویی فضای زیادی در زنجیره‌بلوک می‌شه.</p>
    <br>
    <h2 id="7">چرا از ضربِ روی خم بیضوی برای به‌دست‌آوردن کلید عمومی استفاده می‌کنیم؟</h2>
    <p>چون خم بیضوی دارای دو ویژگیه که موقع ایجاد کلید خصوصی یا عمومی مفید واقع می‌شن.</p>
    <ol>
        <li>ضرب خم بیضوی یه تابع تله است. به عبارت دیگه، نمی‌تونی به عقب برگردی (یعنی مختصات کلید عمومی رو «تقسیم» کنی) تا بفهمی کلید خصوصی چی بوده.</li><br>
        <p>تابع تله تابعیه که به یه‌طرف راحت محاسبه می‌شه، اما محاسبه‌ی جهت دیگه (یافتن معکوس)، بدون داشتن اطلاعات خاصی به نام «تله»، کار بسیار مشکلیه.</p>
        <li>با این وجود، کلید عمومی به صورت ریاضی به کلید خصوصی گره خورده؛ درنتیجه، میشه این ارتباط رو (با کمی ریاضی بیشتر) بدون لو دادن کلید خصوصی نشون داد!</li>
    </ol>
    <p>بنابراین، اگه من کلید عمومی (یا آدرس) خودم رو به تو داده باشم، می‌تونم نشون بدم که متعلق به منه بدون اینکه مجبور باشم کلید خصوصی رو بهت
        نشون بدم.</p>
    <p>این قابلیت به‌خصوص زمانی به‌کار میاد که من بخوام یه تراکنش بیت‌کوین ایجاد کنم، که شامل قرار دادن کلید عمومیم در
        داده‌ی تراکنش و اثبات اینه که من صاحبشم، بدون اینکه نیازی باشه کلید خصوصی خودم رو هم در این
        داده بفرستم.</p>
    <p>کلید عمومی عددی یکتاست که از کلید خصوصی ایجاد شده. بنابراین، زمانی که می‌گم «کلید عمومی متعلق به منه» منظورم اینه که عددِ کلید خصوصی‌ای که این کلید عمومی ازش ایجاد شده رو می‌دونم.</p>
    <br>
    <h3 id="8">چطور می‌شه ثابت کرد که کلید عمومی مال خودته؟</h3>
    <p>این خودش یه موضوع کامله (شاید حتی دو موضوع)، اما چون به شکل مهمی به این مبحث مرتبطه، سعی می‌کنم
        مفاهیم پایه‌ای اون رو پوشش بدم.</p>
    <p>همون‌طور که اشاره شد، یه ارتباط ریاضی بین کلید عمومی و کلید خصوصی من وجود داره.</p>
    <p>درنتیجه:</p>
    <ol>
        <li>من می‌تونم کلید خصوصیم رو از یه سری ریاضیات خم بیضوی رد کنم تا مقدار جدیدی بگیرم.</li><br>
        <li>من می‌تونم کلید عمومیم رو از یه سری ریاضیات دیگه‌ی خم بیضوی رد کنم تا مقدار جدید دیگه‌ای بگیرم.</li><br>
    </ol>
    <br><br><img style="display: block; margin-left: auto; margin-right: auto;"
        src="./beginners/guide/public-keys/04-keys-ec-math.png"><br><br>
    <p>کمی هم‌پوشانی بین این دو مقدار خواهد بود.</p>
    <br><br><img style="display: block; margin-left: auto; margin-right: auto;"
        src="./beginners/guide/public-keys/04-keys-ec-math-verification.png">
    <p style="color: #999999; text-align: center; ">به مقدار جدیدی که من می‌تونم از کلید خصوصیم ایجاد کنم میگن امضای دیجیتال.</p><br><br>
    <p>و...</p>
    <br>
    <strong>این هم‌پوشانی ثابت می‌کنه که رابطه‌ی ریاضی‌ای بین کلید عمومی و کلید خصوصی وجود داره.</strong>
    <p>و ازاونجایی‌که کسی نمی‌تونه این امضای دیجیتال رو بدون داشتن کلید خصوصی مرتبط با اون ایجاد کنه، همین امضای دیجیتال
        به‌تنهایی ثابت‌کننده‌ی این موضوعه که کلید عمومی مال منه.</p>
    <p>پس می‌تونم بهت با امضای دیجتال نشون بدم که صاحب یه کلید عمومیم بدون اینکه کلید خصوصیم رو بهت نشون بدم.</p>
    <br>
    <h3 id="9">نتیجه</h3>
    <p>زنده‌باد خم بیضوی.</p>
    <p><a href="https://learnmeabitcoin.com/beginners/guide/public-keys/">منبع</a></p>
    <p><a href="https://github.com/rezatajari/learnmeabitcoin/blob/master/09.%20Digital%20Signatures.md">رفتن به مطلب
            بعد</a></p>
    <p>لئوناردو دا وینچی: «هیچ دانشی را نمی‌توان واقعی دانست مگر آنکه به‌صورت ریاضی نوشته شود.»</p>
</div>